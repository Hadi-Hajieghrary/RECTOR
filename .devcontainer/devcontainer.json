{
  "name": "RECTOR - Rule-Enforced Constrained Trajectory Optimization and Reasoning",
  "dockerComposeFile": "docker-compose.yml",
  "service": "rector-dev",
  "workspaceFolder": "/workspace",
  "remoteUser": "developer",
  "containerUser": "developer",
  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {
      "installZsh": true,
      "installOhMyZsh": true,
      "upgradePackages": true,
      "username": "developer",
      "userUid": "1000",
      "userGid": "1000"
    },
    "ghcr.io/devcontainers/features/git:1": {
      "version": "latest",
      "ppa": true
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-python.vscode-pylance",
        "ms-python.black-formatter",
        "ms-python.flake8",
        "ms-toolsai.jupyter",
        "ms-toolsai.jupyter-keymap",
        "ms-toolsai.jupyter-renderers",
        "ms-toolsai.vscode-jupyter-cell-tags",
        "ms-toolsai.vscode-jupyter-slideshow",
        "ms-azuretools.vscode-docker",
        "eamodio.gitlens",
        "github.copilot",
        "github.copilot-chat",
        "visualstudioexptteam.vscodeintellicode",
        "mechatroner.rainbow-csv",
        "streetsidesoftware.code-spell-checker",
        "gruntfuggly.todo-tree",
        "charliermarsh.ruff",
        "ms-python.mypy-type-checker"
      ],
      "settings": {
        "python.defaultInterpreterPath": "/opt/venv/bin/python",
        "python.analysis.typeCheckingMode": "basic",
        "python.analysis.autoImportCompletions": true,
        "python.formatting.provider": "black",
        "[python]": {
          "editor.formatOnSave": true,
          "editor.codeActionsOnSave": {
            "source.organizeImports": "explicit"
          }
        },
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
          "source.organizeImports": "explicit"
        },
        "editor.rulers": [
          100
        ],
        "editor.renderWhitespace": "trailing",
        "terminal.integrated.defaultProfile.linux": "bash",
        "files.exclude": {
          "**/__pycache__": true,
          "**/*.pyc": true,
          "**/.pytest_cache": true,
          "**/.ipynb_checkpoints": true,
          "**/*.so": false,
          "**/*.o": true,
          "**/.mypy_cache": true,
          "**/.ruff_cache": true
        },
        "files.watcherExclude": {
          "**/.git/objects/**": true,
          "**/.git/subtree-cache/**": true,
          "**/node_modules/**": true,
          "**/__pycache__/**": true,
          "**/.cache/**": true,
          "**/data/**": true
        },
        "jupyter.askForKernelRestart": false,
        "notebook.cellToolbarLocation": {
          "default": "right",
          "jupyter-notebook": "left"
        }
      }
    }
  },
  "forwardPorts": [
    6006,
    8888
  ],
  "portsAttributes": {
    "6006": {
      "label": "TensorBoard",
      "onAutoForward": "notify"
    },
    "8888": {
      "label": "Jupyter",
      "onAutoForward": "notify"
    }
  },
  "containerEnv": {
    "PYTHONUNBUFFERED": "1",
    "PYTHONIOENCODING": "utf-8",
    "PYTHONDONTWRITEBYTECODE": "1",
    "PYTHONPATH": "/workspace:/workspace/external/M2I/src:${PYTHONPATH}",
    "CUDA_VISIBLE_DEVICES": "0",
    "CUDA_LAUNCH_BLOCKING": "1",
    "TORCH_HOME": "/workspace/.cache/torch",
    "HF_HOME": "/workspace/.cache/huggingface",
    "TORCH_CUDA_ARCH_LIST": "8.6",
    "TF_FORCE_GPU_ALLOW_GROWTH": "true",
    "WAYMO_DATA_ROOT": "/workspace/data/datasets/waymo_open_dataset/motion_v_1_3_0"
  },
  "mounts": [
    "type=bind,source=${localEnv:HOME}${localEnv:USERPROFILE}/.ssh,target=/home/developer/.ssh,readonly,consistency=cached"
  ],
  "postCreateCommand": "bash .devcontainer/post-create.sh",
  "postStartCommand": "echo 'RECTOR devcontainer started âœ…'"
}